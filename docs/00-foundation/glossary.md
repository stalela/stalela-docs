# Glossary

Merged vocabulary for the Stalela Platform. Terms that carry different meanings across the Payments Nucleus and Fiscal Platform are marked with disambiguation notes.

---

## A

| Term | Definition |
|---|---|
| **ACH** | Automated Clearing House — batch payment network for bank-to-bank transfers. |
| **ADR** | Architecture Decision Record — documents a significant design choice, its context, and rationale. |
| **Auth Code** | *(Fiscal)* Cryptographic authentication code generated by the Cloud Signing Service (HSM) for each sealed invoice. Not to be confused with a payment authorization code. |
| **Authorization** | *(Payments)* A hold placed on funds before capture. Part of the AUTH/CAPTURE intent pattern in the CTS. |

## B

| Term | Definition |
|---|---|
| **BAI2** | Bank Administration Institute format for bank statement files, used in reconciliation. |
| **BIN** | Bank Identification Number — first 6–8 digits of a card number identifying the issuing institution. |

## C

| Term | Definition |
|---|---|
| **Canonical Invoice** | *(Fiscal)* The deterministic JSON payload submitted to the Cloud Signing Service for fiscal sealing. Fields: `merchant_nif`, `outlet_id`, `pos_terminal_id`, `cashier_id`, `client`, `tax_groups`, `totals`, `payments`. |
| **Canonical Transfer** | *(Payments)* The deterministic JSON payload submitted to the CTS for payment processing. Fields: `tenantId`, `intent`, `amount`, `payer`, `payee`, `railHints`, `feeModel`. |
| **CTS** | Canonical Transfer Service — the front-door API and orchestrator for all payment intents in the Payments Nucleus. |
| **Client Classification** | *(Fiscal)* DRC-mandated buyer category on each invoice: individual, company, commercial individual, professional, or embassy. |
| **Compliance** | Overloaded term — see disambiguation below. |
| **Counter** | *(Fiscal)* Monotonic, non-resettable sequence number assigned per outlet by the Monotonic Counter Manager. |

!!! note "Disambiguation: Compliance"
    - **Payments Nucleus**: Entity screening against sanctions watchlists (OFAC, UN, EU, SA FIC) before a transfer is submitted to a rail.
    - **Fiscal Platform**: Adherence to DRC tax law — 14 DGI tax groups, SFE specifications, Arrêtés 032/033/034, fiscal device registration.

## D

| Term | Definition |
|---|---|
| **DEF** | Dispositif Électronique Fiscal — the DRC's fiscal memory device (USB hardware, Phase 3). |
| **DGI** | Direction Générale des Impôts — DRC tax authority. |
| **DLQ** | Dead Letter Queue — failed events that could not be processed after retries. |
| **Double-Entry** | *(Payments)* Every money movement records equal debits and credits in the GL Ledger. |
| **Directory Service** | *(Payments)* Institutions, BINs, settlement cutoffs, fee windows, and routing tables. |

## E–F

| Term | Definition |
|---|---|
| **Event Bus** | SNS+SQS pub/sub backbone for exactly-once event delivery (transactional outbox pattern). |
| **Event Envelope** | Standardized wrapper around every domain event: `eventId`, `type`, `timestamp`, `tenantId`, `payload`, `traceparent`. |
| **Fiscal Extension** | *(Fiscal)* Semi-trusted browser extension holding a Delegated Credential for offline signing. |
| **Fiscal Ledger** | *(Fiscal)* Append-only, hash-chained log of sealed invoices. Not a GL — it is a tamper-evident audit trail. |
| **Fiscal Number** | *(Fiscal)* Strictly monotonic invoice identifier assigned by the Cloud Signing Service or USB device. |
| **FX Strategy** | *(Payments)* How currency conversion is handled: `AT_SOURCE`, `AT_DESTINATION`, `PRE_FUNDED`. |

## G–I

| Term | Definition |
|---|---|
| **GL Ledger** | *(Payments)* General Ledger with double-entry postings, balances, and chart of accounts. Distinct from Fiscal Ledger. |
| **HSM** | Hardware Security Module — the trusted root for cryptographic signing in the Cloud Signing Service. |
| **Idempotency Key** | Client-supplied key ensuring that retried requests produce the same result. Used in both CTS and Invoicing API. |
| **Invoice Type** | *(Fiscal)* One of five DRC types: sale, advance, credit note, export, export credit. |

!!! note "Disambiguation: Ledger"
    - **GL Ledger** (Payments Nucleus): Financial double-entry accounting system tracking balances across accounts. Supports posting rules, chart of accounts, closing-the-books.
    - **Fiscal Ledger** (Fiscal Platform): Hash-chained, append-only audit log of sealed invoices. No debit/credit semantics — each entry is a signed fiscal event with a `prev_hash` pointer.

## M–O

| Term | Definition |
|---|---|
| **MCF / e-MCF** | *(Fiscal)* DGI upload protocol for fiscal data synchronization. Endpoint, auth, and schema are unresolved blockers. |
| **Mobile Money** | Payment rail (Payments Nucleus) and payment instrument on invoices (Fiscal Platform). See [Mobile Money](mobile-money.md). |
| **Monotonic Counter Manager** | *(Fiscal)* Service ensuring strictly increasing fiscal numbers per outlet under multi-terminal concurrency. |
| **Operator Console** | *(Payments)* Human UI for managing returns, recon exceptions, compliance flags, and rail health. |

## P–R

| Term | Definition |
|---|---|
| **Posting Rules** | *(Payments)* Event → debit/credit account mappings in the GL Ledger. |
| **Rail** | *(Payments)* A payment network: Zimswitch, OPPWA, USDC/Algorand, EFT, RTGS, PayShap, or mobile money. |
| **Rail Gateway** | *(Payments)* Per-rail adapter that translates CTS commands into rail-native protocol calls. |
| **Reconciliation** | *(Payments)* Nightly statement ingest + matching against posted transfers. Unmatched items → exception queue. |
| **Report Generator** | *(Fiscal)* Produces Z (shift), X (periodic), A (audit) reports from the Fiscal Ledger. |

## S–T

| Term | Definition |
|---|---|
| **Security Elements** | *(Fiscal)* The set of fields minted by the HSM: fiscal number, fiscal authority ID, auth code, trusted timestamp, QR payload. |
| **SFE** | Système de Facturation d'Entreprise — DRC technical specification for compliant billing systems. |
| **Sync Agent** | *(Fiscal)* Service that queues and retries uploads of sealed invoices to DGI via MCF/e-MCF. |
| **Tax Engine** | *(Fiscal)* Applies the 14 DGI tax groups (TG01–TG14) and client classification rules to each invoice. |
| **Tenant** | *(Payments)* Top-level isolation scope in CTS. Maps to `merchant_nif` + `outlet_id` in the Fiscal Platform. See [Multi-Tenant Model](multi-tenant-model.md). |
| **Transfer** | *(Payments)* A single money-movement intent processed by the CTS. Lifecycle: INITIATED → SUBMITTED → ACCEPTED → SETTLED. |

## V–Z

| Term | Definition |
|---|---|
| **Verifiable Credential (VC)** | *(Fiscal)* Short-lived credential issued to a Fiscal Extension for delegated offline signing. |
| **Z Report** | *(Fiscal)* End-of-shift fiscal summary generated from the Fiscal Ledger, signed by the HSM or USB device. |
